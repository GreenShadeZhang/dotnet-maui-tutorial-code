<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp1.Views.DebugPage"
             Title="æœºå™¨äººè°ƒè¯•æµ‹è¯•">
    
    <ScrollView>
        <VerticalStackLayout Spacing="20" Padding="20">
            
            <!-- çŠ¶æ€ä¿¡æ¯ -->
            <Border BackgroundColor="LightGray">
                <Grid RowDefinitions="Auto,Auto" ColumnDefinitions="*,*">
                    <Label Grid.Row="0" Grid.Column="0" 
                           Text="è¿žæŽ¥çŠ¶æ€:" />
                    <Label Grid.Row="0" Grid.Column="1" 
                           Text="{Binding IsConnected}" 
                           TextColor="{Binding IsConnected}"/>
                    
                    <Label Grid.Row="1" Grid.Column="0" 
                           Text="æµ‹è¯•çŠ¶æ€:" 
                           />
                    <Label Grid.Row="1" Grid.Column="1" 
                           Text="{Binding IsTesting}" 
                           TextColor="{Binding IsTesting}"/>
                </Grid>
            </Border>

            <!-- åˆå§‹åŒ–æŒ‰é’® -->
            <Button Text="ðŸ”„ åˆå§‹åŒ–æœºå™¨äºº" 
                    Command="{Binding InitializeRobotCommand}"
                    BackgroundColor="DodgerBlue"
                    TextColor="White"/>

            <!-- æµ‹è¯•æŒ‰é’®ç»„ -->
            <Border BackgroundColor="LightBlue">
                <VerticalStackLayout Spacing="10">
                    <Label Text="ðŸ§ª è°ƒè¯•æµ‹è¯•" 
                           FontSize="18" 
                           
                           HorizontalOptions="Center"/>
                    
                    <Button Text="ðŸ” æµ‹è¯•æ‰€æœ‰åŠ¨ä½œç¼–å·" 
                            Command="{Binding TestForwardActionsCommand}"
                            BackgroundColor="Orange"
                            TextColor="White"/>
                    
                    <Button Text="ðŸ”§ æµ‹è¯•å‚æ•°ç»„åˆ" 
                            Command="{Binding TestParameterCombinationsCommand}"
                            BackgroundColor="Green"
                            TextColor="White"/>
                </VerticalStackLayout>
            </Border>

            <!-- å•ä¸ªåŠ¨ä½œæµ‹è¯• -->
            <Border BackgroundColor="LightYellow">
                <VerticalStackLayout Spacing="10">
                    <Label Text="ðŸŽ¯ å•ä¸ªåŠ¨ä½œæµ‹è¯•" 
                           FontSize="18" 
                           
                           HorizontalOptions="Center"/>
                    
                    <Grid RowDefinitions="Auto,Auto,Auto,Auto" 
                          ColumnDefinitions="*,*,*,*"
                          RowSpacing="10" 
                          ColumnSpacing="10">
                        
                        <!-- ç¬¬ä¸€è¡Œ -->
                        <Button Grid.Row="0" Grid.Column="0" 
                                Text="æµ‹è¯•ç¼–å·1" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="1"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="0" Grid.Column="1" 
                                Text="æµ‹è¯•ç¼–å·2" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="2"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="0" Grid.Column="2" 
                                Text="æµ‹è¯•ç¼–å·3" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="3"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="0" Grid.Column="3" 
                                Text="æµ‹è¯•ç¼–å·4" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="4"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <!-- ç¬¬äºŒè¡Œ -->
                        <Button Grid.Row="1" Grid.Column="0" 
                                Text="æµ‹è¯•ç¼–å·5" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="5"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="1" Grid.Column="1" 
                                Text="æµ‹è¯•ç¼–å·6" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="6"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="1" Grid.Column="2" 
                                Text="æµ‹è¯•ç¼–å·7" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="7"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="1" Grid.Column="3" 
                                Text="æµ‹è¯•ç¼–å·8" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="8"
                                BackgroundColor="Purple" 
                                TextColor="White"/>
                        
                        <!-- ç¬¬ä¸‰è¡Œ -->
                        <Button Grid.Row="2" Grid.Column="0" 
                                Text="æµ‹è¯•ç¼–å·63" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="63"
                                BackgroundColor="Red" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="2" Grid.Column="1" 
                                Text="æµ‹è¯•ç¼–å·64" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="64"
                                BackgroundColor="Red" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="2" Grid.Column="2" 
                                Text="æµ‹è¯•ç¼–å·65" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="65"
                                BackgroundColor="Red" 
                                TextColor="White"/>
                        
                        <Button Grid.Row="2" Grid.Column="3" 
                                Text="æµ‹è¯•ç¼–å·66" 
                                Command="{Binding TestSingleActionCommand}" 
                                CommandParameter="66"
                                BackgroundColor="Red" 
                                TextColor="White"/>
                    </Grid>
                </VerticalStackLayout>
            </Border>

            <!-- æ—¥å¿—åŒºåŸŸ -->
            <Border BackgroundColor="Black">
                <VerticalStackLayout Spacing="10">
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0" 
                               Text="ðŸ“‹ è°ƒè¯•æ—¥å¿—" 
                               FontSize="18" 
                          
                               TextColor="White"/>
                        
                        <Button Grid.Column="1" 
                                Text="æ¸…ç©º" 
                                Command="{Binding ClearLogCommand}"
                                BackgroundColor="DarkRed"
                                TextColor="White"/>
                    </Grid>
                    
                    <CollectionView ItemsSource="{Binding LogMessages}" 
                                    HeightRequest="300"
                                    BackgroundColor="Black">
                        <CollectionView.ItemTemplate>
                            <DataTemplate>
                                <Label Text="{Binding}" 
                                       TextColor="LightGreen" 
                                       FontFamily="Courier" 
                                       FontSize="12" 
                                       Padding="5"/>
                            </DataTemplate>
                        </CollectionView.ItemTemplate>
                    </CollectionView>
                </VerticalStackLayout>
            </Border>
            
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
